---
all:
  vars:
    ansible_user: "{{ vault_ansible_user | default('ansible') }}"
    environment: production
    deployment_mode: "production"
    become: true
    ansible_python_interpreter: /usr/bin/python3
    ansible_timeout: 30
    ansible_ssh_retries: 3

# Production Jenkins Masters - Blue-Green Deployment
jenkins_masters:
  vars:
    jenkins_deployment_mode: "blue-green"
    jenkins_blue_green_enabled: true
    jenkins_container_runtime: "docker"
    jenkins_master_port: 8080
    jenkins_jnlp_port: 50000
    jenkins_master_memory: "4g"
    jenkins_master_cpu_limit: "2"
    jenkins_ssl_enabled: true
    jenkins_backup_enabled: true
    backup_retention_days: 30
  hosts:
    jenkins-master-01:
      ansible_host: 192.168.5.10
      jenkins_node_name: "jenkins-master-01"
      jenkins_master_role: "primary"
      jenkins_master_hostname: "jenkins-master-01"

# Production Monitoring Stack  
monitoring:
  vars:
    monitoring_enabled: true
    prometheus_enabled: true
    grafana_enabled: true
    prometheus_memory: "4g"
    grafana_memory: "2g"
    prometheus_retention: "90d"
  hosts:
    monitoring-01:
      ansible_host: 192.168.5.10
      monitoring_node_name: "monitoring-01"
      prometheus_port: 9090
      grafana_port: 3000


# High Availability Load Balancer
load_balancers:
  vars:
    haproxy_enabled: true
    haproxy_stats_enabled: true
    haproxy_stats_port: 8404
  hosts:
    lb-01:
      ansible_host: 192.168.5.10
      keepalived_priority: 110
      keepalived_state: "MASTER"
      jenkins_vip: "{{ vault_jenkins_vip | default('192.168.5.10') }}"

# Shared Storage
shared_storage:
  vars:
    shared_storage_enabled: true
    shared_storage_type: "nfs"
    storage_size: "1Ti"
    backup_enabled: true
  hosts:
    storage-01:
      ansible_host: 192.168.5.10
      storage_node_name: "storage-01"
      storage_role: "primary"