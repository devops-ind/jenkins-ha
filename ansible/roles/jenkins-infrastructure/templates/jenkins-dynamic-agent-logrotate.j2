# Logrotate configuration for Jenkins dynamic agents
# Managed by Ansible - DO NOT EDIT MANUALLY

/var/log/jenkins/dynamic-agents.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    copytruncate
    postrotate
        systemctl reload jenkins-master > /dev/null 2>&1 || true
    endscript
}

# Dynamic agent container logs (if using journald)
/var/log/journal/*/*.journal {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    copytruncate
}