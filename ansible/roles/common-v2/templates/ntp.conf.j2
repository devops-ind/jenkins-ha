# NTP configuration for containers and infrastructure
# Generated by Ansible - DO NOT EDIT MANUALLY

# NTP servers
{% for server in common_ntp_servers %}
server {{ server }} iburst
{% endfor %}

# Fallback servers
server 127.127.1.0  # local clock
fudge  127.127.1.0 stratum 10

# Drift file location
driftfile /var/lib/ntp/drift

# Statistics
statsdir /var/log/ntpstats/

statistics loopstats peerstats clockstats
filegen loopstats file loopstats type day enable
filegen peerstats file peerstats type day enable
filegen clockstats file clockstats type day enable

# Security
restrict -4 default kod notrap nomodify nopeer noquery limited
restrict -6 default kod notrap nomodify nopeer noquery limited

restrict 127.0.0.1
restrict ::1

restrict source notrap nomodify noquery

# Container-friendly settings
disable monitor

# Listen on all interfaces for container network access
interface listen all