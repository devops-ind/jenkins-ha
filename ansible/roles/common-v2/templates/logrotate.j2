# System log rotation configuration for Jenkins infrastructure
# Generated by Ansible - DO NOT EDIT MANUALLY

# Jenkins system logs
/var/log/jenkins/*.log {
    daily
    missingok
    rotate {{ common_log_retention_days }}
    compress
    delaycompress
    notifempty
    create 0640 jenkins jenkins
    sharedscripts
    
    postrotate
        systemctl reload jenkins > /dev/null 2>&1 || true
    endscript
}

# System logs
/var/log/syslog {
    daily
    missingok
    rotate {{ common_log_retention_days }}
    compress
    delaycompress
    notifempty
    create 0640 syslog adm
    
    postrotate
        systemctl reload rsyslog > /dev/null 2>&1 || true
    endscript
}

# Authentication logs
/var/log/auth.log {
    daily
    missingok
    rotate {{ common_log_retention_days }}
    compress
    delaycompress
    notifempty
    create 0640 root utmp
}

# Application logs
/var/log/application/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 0640 root root
    maxage 30
}

# User logs
/home/*/logs/*.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    su root root
    create 0640 root root
}